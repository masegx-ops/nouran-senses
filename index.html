<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nouran Senses โ ุงูุญูุงุณ ุงูุญููุฉ</title>
  <meta name="theme-color" content="#e24ba8"/>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="style.css" />
  <script defer src="app.js"></script>
  <script src="https://apis.google.com/js/api.js" async defer></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <!-- ุดุงุดุฉ ุงูููู -->
  <div id="lockOverlay" class="lock hidden">
    <div class="lock-card">
      <h2>๐ Nouran Senses</h2>
      <p class="muted">ููุฏุฎููุ ุฃุฏุฎู ุจูุงูุงุชู</p>
      <label>ุงุณู ุงููุณุชุฎุฏู
        <input id="lockUser" type="text" placeholder="ุงุณู ุงููุณุชุฎุฏู">
      </label>
      <label>ูููุฉ ุงููุฑูุฑ
        <input id="lockPass" type="password" placeholder="โขโขโขโข">
      </label>
      <div class="row">
        <button id="lockEnter" class="btn grad">ุฏุฎูู</button>
      </div>
    </div>
  </div>

  <header class="top">
    <h1 class="app-title"><span class="curvy">Nouran</span> <span class="senses">Senses</span></h1>
    <div id="miniBar" class="mini-bar"></div>
  </header>

  <main class="stage">
    <!-- ุงููุงููุฑุง -->
    <section id="panel-camera" class="panel active">
      <div class="panel-head">
        <h2>๐ท ุงููุงููุฑุง</h2>
        <button class="chip" data-minimize="#panel-camera">ุชุตุบูุฑ</button>
      </div>
      <video id="liveVideo" autoplay playsinline muted></video>
      <canvas id="previewCanvas" class="hidden"></canvas>
      <div class="mic-meter"><div id="micBar"></div></div>
      <div class="ctrls">
        <button id="startCam" class="btn grad">ุชุดุบูู</button>
        <button id="snap" class="btn ghost">ููุทุฉ</button>
        <button id="stopCam" class="btn ghost">ุฅููุงู</button>
      </div>
      <div id="shotsTray" class="tray"></div>
    </section>

    <!-- ุชุณุฌูู ุงูุดุงุดุฉ -->
    <section id="panel-screen" class="panel">
      <div class="panel-head">
        <h2>๐ฅ๏ธ ุงูุดุงุดุฉ</h2>
        <button class="chip" data-minimize="#panel-screen">ุชุตุบูุฑ</button>
      </div>
      <video id="screenVideo" class="hidden" controls></video>
      <div class="ctrls">
        <button id="startScreen" class="btn grad">ุจุฏุก ุงูุชุณุฌูู</button>
        <button id="stopScreen" class="btn ghost">ุฅููุงู</button>
      </div>
    </section>

    <!-- ุงูุตูุช -->
    <section id="panel-audio" class="panel">
      <div class="panel-head">
        <h2>๐ ุงูุตูุช</h2>
        <button class="chip" data-minimize="#panel-audio">ุชุตุบูุฑ</button>
      </div>
      <div class="mic-meter big"><div id="micBarBig"></div></div>
      <p class="muted">ุงููุคุดุฑ ุจูุชุญุฑูู ูุน ุตูุชู.</p>
    </section>

    <!-- ุงูุจุงุจ ุงูุณุญุฑู -->
    <section id="panel-chat" class="panel">
      <div class="panel-head">
        <h2>โจ ุงูุจุงุจ ุงูุณุญุฑู</h2>
        <div class="panel-actions">
          <button class="chip" id="chatMin" data-minimize="#panel-chat">ุชุตุบูุฑ</button>
          <button class="chip" id="chatPop">ูุงูุฐุฉ</button>
        </div>
      </div>
      <div id="chatlog" class="chatlog"></div>
      <div class="chat-toolbar">
        <input id="chatFile" type="file" multiple accept="image/*,video/*,audio/*" hidden>
        <button id="btnAttach" class="btn pill">๐</button>
        <button id="btnVoice" class="btn pill">๐ค</button>
        <button id="btnGenImage" class="btn pill">๐ผ๏ธ</button>
      </div>
      <form id="chatForm" class="chatbox">
        <input id="chatInput" type="text" placeholder="ุงูุชุจ ููุง..." />
        <button type="submit" class="btn grad">ุฅุฑุณุงู</button>
      </form>
      <span id="secretHint" class="hidden">ุงููุง ููุฑุงู</span>
    </section>

    <!-- ุงูุนูููุงุช -->
    <section id="panel-actions" class="panel">
      <div class="panel-head">
        <h2>โ๏ธ ุงูุนูููุงุช</h2>
        <button class="chip" data-minimize="#panel-actions">ุชุตุบูุฑ</button>
      </div>
      <label><input type="checkbox" id="autoUpload" checked> ุฑูุน ุชููุงุฆู</label>
      <label><input type="checkbox" id="autoAnalyze" checked> ุชุญููู ุชููุงุฆู</label>
      <label><input type="checkbox" id="autoDelete"> ุญุฐู ูุญูู</label>
      <label><input type="checkbox" id="bgSync"> ูุฒุงููุฉ ุจุงูุฎูููุฉ</label>
      <progress id="uploadProgress" max="100" value="0"></progress>
      <progress id="aiProgress" max="100" value="0"></progress>
      <div id="toast" class="toast"></div>
    </section>
  </main>

  <!-- Dock ุณููู -->
  <nav class="dock">
    <button class="dock-btn active" data-target="#panel-camera">๐ท</button>
    <button class="dock-btn" data-target="#panel-screen">๐ฅ๏ธ</button>
    <button class="dock-btn" data-target="#panel-audio">๐</button>
    <button class="dock-btn" data-target="#panel-chat">โจ</button>
    <button id="btnSettings" class="dock-btn settings">โ๏ธ</button>
  </nav>

  <!-- ุฅุนุฏุงุฏุงุช -->
  <dialog id="settingsDialog">
    <form method="dialog">
      <h3>ุงูุฅุนุฏุงุฏุงุช</h3>
      <label>OpenAI Key <input id="openaiKey" type="password" /></label>
      <label>Google Client ID <input id="googleClientId" type="text" /></label>
      <label>Drive Folder ID <input id="driveFolderId" type="text" /></label>
      <button id="btnConnectDrive" type="button">ุฑุจุท ุงูุณุญุงุจุฉ</button>
      <hr>
      <h4>ุงูุชุญุฏูุซุงุช</h4>
      <label>GitHub Token <input id="ghToken" type="password" /></label>
      <label>Repo <input id="ghRepo" type="text" value="USERNAME/nouran-senses" /></label>
      <label>Branch <input id="ghBranch" type="text" value="main" /></label>
      <input id="ghFiles" type="file" multiple hidden />
      <button id="btnPickUpdate" type="button">ุงุฎุชุฑ ูููุงุช</button>
      <button id="btnUploadUpdate" type="button">ุฑูุน ุงูุชุญุฏูุซ</button>
      <hr>
      <h4>ุงูุฎุตูุตูุฉ</h4>
      <label><input id="lockEnabled" type="checkbox" /> ุชูุนูู ููู ุงูุดุงุดุฉ</label>
      <label>ูุณุชุฎุฏู <input id="lockCfgUser" type="text" /></label>
      <label>ูููุฉ ูุฑูุฑ <input id="lockCfgPass" type="password" /></label>
      <div class="row end">
        <button id="saveSettings" value="confirm">ุญูุธ</button>
        <button id="closeSettings" value="cancel">ุฅุบูุงู</button>
      </div>
    </form>
  </dialog>

  <footer class="foot">ยฉ 2025 Nouran Senses</footer>
</body>
</html>
